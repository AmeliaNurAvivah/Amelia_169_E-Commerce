{% extends "/layouts/base.html" %}
{% block content %}

<div class="card">
  <h3 class="page-title">Data Mata Kuliah</h3>

  <form action="{{ url_for('main.matakuliah_tambah') }}" method="post" class="form-card">
    <input class="input-dark" name="nama" placeholder="Nama Mata Kuliah" required>
    <select name="dosen_id" class="input-dark" required>
      <option value="">Pilih Dosen</option>
      {% for d in dosen %}
      <option value="{{ d.id }}">{{ d.nama }}</option>
      {% endfor %}
    </select>
    <button class="btn-dashboard">Tambah</button>
  </form>

  <div class="table-container">
    <table class="table-dark">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nama</th>
          <th>Dosen</th>
          <th>Aksi</th>
        </tr>
      </thead>
      <tbody>
        {% for mk in data %}
        <tr>
          <form action="{{ url_for('main.matakuliah_edit') }}" method="post">
            <input type="hidden" name="id" value="{{ mk.id }}">
            <td>{{ mk.id }}</td>
            <td><input class="input-dark-small" name="nama" value="{{ mk.nama }}"></td>
            <td>
              <select name="dosen_id" class="input-dark-small">
                {% for d in dosen %}
                <option value="{{ d.id }}" {% if d.id == mk.dosen_id %}selected{% endif %}>
                  {{ d.nama }}
                </option>
                {% endfor %}
              </select>
            </td>
            <td style="display:flex; gap:6px;">
              <button class="btn-action">Simpan</button>
              <a href="{{ url_for('main.matakuliah_hapus', id=mk.id) }}" class="btn-action"
                 onclick="return confirm('Yakin ingin hapus matakuliah ini?')">Hapus</a>
            </td>
          </form>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

</div>

{% endblock %}
